package com.example.demo;

import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class GenericController {
	@GetMapping("getBooks")
	public Books getAllBooks() {
		Books book= new Books();
		book.setBooks("Harry Potter");
		return book;
	}
	@GetMapping("usersGet")
	public List<Users> getUsers() {
		
		UsersDAO dob = new UsersDAO();
		return dob.allUsers();

		
				
	}
	@PostMapping("userAdd")
	int  addUsers(List<Users> userList) {
		UsersDAO dob = new UsersDAO();
		//int id=dob.addUsers(userList.get(0));
		int id;
		try {
			Users user= userList.get(0);
			id = dob.addUsers(new Users(null,user.getName(), user.getDateOfBirth()));
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return id;
	}

}
